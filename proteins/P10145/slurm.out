INFO:    gocryptfs not found, will not be able to use gocryptfs
I0611 14:51:15.365428 22970063652672 templates.py:857] Using precomputed obsolete pdbs /fs/scratch/PZS1152/alphafold/alphafold/pdb_mmcif/obsolete.dat.
I0611 14:51:15.551454 22970063652672 xla_bridge.py:353] Unable to initialize backend 'tpu_driver': NOT_FOUND: Unable to find driver in registry given worker: 
I0611 14:51:16.564471 22970063652672 xla_bridge.py:353] Unable to initialize backend 'rocm': NOT_FOUND: Could not find registered platform with name: "rocm". Available platform names are: Interpreter CUDA Host
I0611 14:51:16.564779 22970063652672 xla_bridge.py:353] Unable to initialize backend 'tpu': module 'jaxlib.xla_extension' has no attribute 'get_tpu_client'
I0611 14:51:16.564843 22970063652672 xla_bridge.py:353] Unable to initialize backend 'plugin': xla_extension has no attributes named get_plugin_device_client. Compile TensorFlow with //tensorflow/compiler/xla/python:enable_plugin_device set to true (defaults to false) to enable this.
I0611 14:51:18.297839 22970063652672 robins_devious_run_alphafold_patched.py:451] Have 5 models: ['model_1_pred_0', 'model_2_pred_0', 'model_3_pred_0', 'model_4_pred_0', 'model_5_pred_0']
I0611 14:51:18.298025 22970063652672 robins_devious_run_alphafold_patched.py:468] Using random seed 691360126625303831 for the data pipeline
I0611 14:51:18.298173 22970063652672 robins_devious_run_alphafold_patched.py:196] Predicting P10145
I0611 14:51:18.329798 22970063652672 jackhmmer.py:133] Launching subprocess "/usr/bin/jackhmmer -o /dev/null -A /tmp/slurmtmp.1744188/tmp0q739omo/output.sto --noali --F1 0.0005 --F2 5e-05 --F3 5e-07 --incE 0.0001 -E 0.0001 --cpu 8 -N 1 /fs/scratch/PZS1152/alphafold/robin_alphafold/sigmaFold/web_dir/P10145.fasta /fs/scratch/PZS1152/alphafold/alphafold/uniref90/robins_devious_taxonomy_filtered.fasta"
I0611 14:51:18.338276 22970063652672 utils.py:36] Started Jackhmmer (robins_devious_taxonomy_filtered.fasta) query
I0611 14:51:18.393825 22970063652672 utils.py:40] Finished Jackhmmer (robins_devious_taxonomy_filtered.fasta) query in 0.055 seconds
I0611 14:51:18.395346 22970063652672 jackhmmer.py:133] Launching subprocess "/usr/bin/jackhmmer -o /dev/null -A /tmp/slurmtmp.1744188/tmpixcf4pqb/output.sto --noali --F1 0.0005 --F2 5e-05 --F3 5e-07 --incE 0.0001 -E 0.0001 --cpu 8 -N 1 /fs/scratch/PZS1152/alphafold/robin_alphafold/sigmaFold/web_dir/P10145.fasta /fs/scratch/PZS1152/alphafold/alphafold/mgnify/mgy_clusters_2022_05.fa"
I0611 14:51:18.404005 22970063652672 utils.py:36] Started Jackhmmer (mgy_clusters_2022_05.fa) query
I0611 14:57:58.009349 22970063652672 utils.py:40] Finished Jackhmmer (mgy_clusters_2022_05.fa) query in 399.605 seconds
I0611 14:57:58.026307 22970063652672 hhsearch.py:85] Launching subprocess "/usr/bin/hhsearch -i /tmp/slurmtmp.1744188/tmpgacjem8n/query.a3m -o /tmp/slurmtmp.1744188/tmpgacjem8n/output.hhr -maxseq 1000000 -d /fs/scratch/PZS1152/alphafold/alphafold/pdb70/pdb70"
I0611 14:57:58.037695 22970063652672 utils.py:36] Started HHsearch query
I0611 14:58:36.051538 22970063652672 utils.py:40] Finished HHsearch query in 38.014 seconds
I0611 14:58:36.058738 22970063652672 jackhmmer.py:133] Launching subprocess "/usr/bin/jackhmmer -o /dev/null -A /tmp/slurmtmp.1744188/tmppotz6zhk/output.sto --noali --F1 0.0005 --F2 5e-05 --F3 5e-07 --incE 0.0001 -E 0.0001 --cpu 8 -N 1 /fs/scratch/PZS1152/alphafold/robin_alphafold/sigmaFold/web_dir/P10145.fasta /fs/scratch/PZS1152/alphafold/alphafold/small_bfd/bfd-first_non_consensus_sequences.fasta"
I0611 14:58:36.069088 22970063652672 utils.py:36] Started Jackhmmer (bfd-first_non_consensus_sequences.fasta) query
I0611 14:59:22.098729 22970063652672 utils.py:40] Finished Jackhmmer (bfd-first_non_consensus_sequences.fasta) query in 46.029 seconds
I0611 14:59:22.102221 22970063652672 templates.py:878] Searching for template for: MTSKLAVALLAAFLISAALCEGAVLPRSAKELRCQCIKTYSKPFHPKFIKELRVIESGPHCANTEIIVKLSDGRELCLDPKENWVQRVVEKFLKRAENS
I0611 14:59:22.103477 22970063652672 templates.py:718] hit 6n2u_A did not pass prefilter: Template is an exact subsequence of query with large coverage. Length ratio: 1.0.
I0611 14:59:22.103524 22970063652672 templates.py:912] Skipped invalid hit 6N2U_A Interleukin-8; IL-8, IMMUNE SYSTEM; 1.254A {Homo sapiens}, error: None, warning: None
I0611 14:59:22.156520 22970063652672 templates.py:267] Found an exact template match 4xdx_A.
I0611 14:59:22.200263 22970063652672 templates.py:267] Found an exact template match 5d14_A.
I0611 14:59:22.642879 22970063652672 templates.py:267] Found an exact template match 1rod_A.
I0611 14:59:22.693638 22970063652672 templates.py:267] Found an exact template match 7jny_A.
I0611 14:59:23.366458 22970063652672 templates.py:267] Found an exact template match 5l7m_A.
I0611 14:59:23.400274 22970063652672 templates.py:267] Found an exact template match 1o80_A.
I0611 14:59:24.566296 22970063652672 templates.py:267] Found an exact template match 2mgs_B.
I0611 14:59:24.591255 22970063652672 templates.py:267] Found an exact template match 1f9p_A.
I0611 14:59:24.641759 22970063652672 templates.py:267] Found an exact template match 1msg_A.
I0611 14:59:25.113850 22970063652672 templates.py:267] Found an exact template match 2mp1_A.
I0611 14:59:25.762634 22970063652672 templates.py:267] Found an exact template match 2jyo_A.
I0611 14:59:25.817064 22970063652672 templates.py:267] Found an exact template match 1tvx_D.
I0611 14:59:25.818598 22970063652672 templates.py:267] Found an exact template match 1o80_B.
I0611 14:59:25.861168 22970063652672 templates.py:267] Found an exact template match 1esr_A.
I0611 14:59:26.297117 22970063652672 templates.py:267] Found an exact template match 2l4n_A.
I0611 14:59:27.449960 22970063652672 templates.py:267] Found an exact template match 1mi2_B.
I0611 14:59:27.676298 22970063652672 templates.py:267] Found an exact template match 1rjt_A.
I0611 14:59:27.731654 22970063652672 templates.py:267] Found an exact template match 1dom_B.
I0611 14:59:28.477952 22970063652672 templates.py:267] Found an exact template match 1ha6_A.
I0611 14:59:29.041413 22970063652672 templates.py:267] Found an exact template match 2mpm_A.
I0611 14:59:29.045489 22970063652672 pipeline.py:239] Uniref90 MSA size: 1 sequences.
I0611 14:59:29.045593 22970063652672 pipeline.py:240] BFD MSA size: 67 sequences.
I0611 14:59:29.045621 22970063652672 pipeline.py:241] MGnify MSA size: 5 sequences.
I0611 14:59:29.045644 22970063652672 pipeline.py:242] Final (deduplicated) MSA size: 70 sequences.
I0611 14:59:29.045777 22970063652672 pipeline.py:244] Total number of templates (NB: this can include bad templates and is later filtered to top 4): 20.
I0611 14:59:29.049171 22970063652672 robins_devious_run_alphafold_patched.py:241] Running model model_1_pred_0 on P10145
W0611 14:59:29.413013 22970063652672 deprecation.py:350] From /opt/conda/lib/python3.8/site-packages/tensorflow/python/autograph/pyct/static_analysis/liveness.py:83: Analyzer.lamba_check (from tensorflow.python.autograph.pyct.static_analysis.liveness) is deprecated and will be removed after 2023-09-23.
Instructions for updating:
Lambda fuctions will be no more assumed to be used in the statement where they are used, or at least in the same block. https://github.com/tensorflow/tensorflow/issues/56089
I0611 14:59:31.170351 22970063652672 model.py:165] Running predict with shape(feat) = {'aatype': (4, 99), 'residue_index': (4, 99), 'seq_length': (4,), 'template_aatype': (4, 4, 99), 'template_all_atom_masks': (4, 4, 99, 37), 'template_all_atom_positions': (4, 4, 99, 37, 3), 'template_sum_probs': (4, 4, 1), 'is_distillation': (4,), 'seq_mask': (4, 99), 'msa_mask': (4, 508, 99), 'msa_row_mask': (4, 508), 'random_crop_to_size_seed': (4, 2), 'template_mask': (4, 4), 'template_pseudo_beta': (4, 4, 99, 3), 'template_pseudo_beta_mask': (4, 4, 99), 'atom14_atom_exists': (4, 99, 14), 'residx_atom14_to_atom37': (4, 99, 14), 'residx_atom37_to_atom14': (4, 99, 37), 'atom37_atom_exists': (4, 99, 37), 'extra_msa': (4, 5120, 99), 'extra_msa_mask': (4, 5120, 99), 'extra_msa_row_mask': (4, 5120), 'bert_mask': (4, 508, 99), 'true_msa': (4, 508, 99), 'extra_has_deletion': (4, 5120, 99), 'extra_deletion_value': (4, 5120, 99), 'msa_feat': (4, 508, 99, 49), 'target_feat': (4, 99, 22)}
I0611 15:00:53.801893 22970063652672 model.py:175] Output shape was {'distogram': {'bin_edges': (63,), 'logits': (99, 99, 64)}, 'experimentally_resolved': {'logits': (99, 37)}, 'masked_msa': {'logits': (508, 99, 23)}, 'predicted_lddt': {'logits': (99, 50)}, 'structure_module': {'final_atom_mask': (99, 37), 'final_atom_positions': (99, 37, 3)}, 'plddt': (99,), 'ranking_confidence': ()}
I0611 15:00:53.802188 22970063652672 robins_devious_run_alphafold_patched.py:253] Total JAX model model_1_pred_0 on P10145 predict time (includes compilation time, see --benchmark): 82.6s
I0611 15:00:53.822188 22970063652672 robins_devious_run_alphafold_patched.py:241] Running model model_2_pred_0 on P10145
I0611 15:00:54.687769 22970063652672 model.py:165] Running predict with shape(feat) = {'aatype': (4, 99), 'residue_index': (4, 99), 'seq_length': (4,), 'template_aatype': (4, 4, 99), 'template_all_atom_masks': (4, 4, 99, 37), 'template_all_atom_positions': (4, 4, 99, 37, 3), 'template_sum_probs': (4, 4, 1), 'is_distillation': (4,), 'seq_mask': (4, 99), 'msa_mask': (4, 508, 99), 'msa_row_mask': (4, 508), 'random_crop_to_size_seed': (4, 2), 'template_mask': (4, 4), 'template_pseudo_beta': (4, 4, 99, 3), 'template_pseudo_beta_mask': (4, 4, 99), 'atom14_atom_exists': (4, 99, 14), 'residx_atom14_to_atom37': (4, 99, 14), 'residx_atom37_to_atom14': (4, 99, 37), 'atom37_atom_exists': (4, 99, 37), 'extra_msa': (4, 1024, 99), 'extra_msa_mask': (4, 1024, 99), 'extra_msa_row_mask': (4, 1024), 'bert_mask': (4, 508, 99), 'true_msa': (4, 508, 99), 'extra_has_deletion': (4, 1024, 99), 'extra_deletion_value': (4, 1024, 99), 'msa_feat': (4, 508, 99, 49), 'target_feat': (4, 99, 22)}
I0611 15:02:18.143249 22970063652672 model.py:175] Output shape was {'distogram': {'bin_edges': (63,), 'logits': (99, 99, 64)}, 'experimentally_resolved': {'logits': (99, 37)}, 'masked_msa': {'logits': (508, 99, 23)}, 'predicted_lddt': {'logits': (99, 50)}, 'structure_module': {'final_atom_mask': (99, 37), 'final_atom_positions': (99, 37, 3)}, 'plddt': (99,), 'ranking_confidence': ()}
I0611 15:02:18.145162 22970063652672 robins_devious_run_alphafold_patched.py:253] Total JAX model model_2_pred_0 on P10145 predict time (includes compilation time, see --benchmark): 83.5s
I0611 15:02:18.225609 22970063652672 robins_devious_run_alphafold_patched.py:241] Running model model_3_pred_0 on P10145
I0611 15:02:18.895156 22970063652672 model.py:165] Running predict with shape(feat) = {'aatype': (4, 99), 'residue_index': (4, 99), 'seq_length': (4,), 'is_distillation': (4,), 'seq_mask': (4, 99), 'msa_mask': (4, 512, 99), 'msa_row_mask': (4, 512), 'random_crop_to_size_seed': (4, 2), 'atom14_atom_exists': (4, 99, 14), 'residx_atom14_to_atom37': (4, 99, 14), 'residx_atom37_to_atom14': (4, 99, 37), 'atom37_atom_exists': (4, 99, 37), 'extra_msa': (4, 5120, 99), 'extra_msa_mask': (4, 5120, 99), 'extra_msa_row_mask': (4, 5120), 'bert_mask': (4, 512, 99), 'true_msa': (4, 512, 99), 'extra_has_deletion': (4, 5120, 99), 'extra_deletion_value': (4, 5120, 99), 'msa_feat': (4, 512, 99, 49), 'target_feat': (4, 99, 22)}
I0611 15:03:22.008807 22970063652672 model.py:175] Output shape was {'distogram': {'bin_edges': (63,), 'logits': (99, 99, 64)}, 'experimentally_resolved': {'logits': (99, 37)}, 'masked_msa': {'logits': (512, 99, 23)}, 'predicted_lddt': {'logits': (99, 50)}, 'structure_module': {'final_atom_mask': (99, 37), 'final_atom_positions': (99, 37, 3)}, 'plddt': (99,), 'ranking_confidence': ()}
I0611 15:03:22.059896 22970063652672 robins_devious_run_alphafold_patched.py:253] Total JAX model model_3_pred_0 on P10145 predict time (includes compilation time, see --benchmark): 63.2s
I0611 15:03:22.081398 22970063652672 robins_devious_run_alphafold_patched.py:241] Running model model_4_pred_0 on P10145
I0611 15:03:22.767128 22970063652672 model.py:165] Running predict with shape(feat) = {'aatype': (4, 99), 'residue_index': (4, 99), 'seq_length': (4,), 'is_distillation': (4,), 'seq_mask': (4, 99), 'msa_mask': (4, 512, 99), 'msa_row_mask': (4, 512), 'random_crop_to_size_seed': (4, 2), 'atom14_atom_exists': (4, 99, 14), 'residx_atom14_to_atom37': (4, 99, 14), 'residx_atom37_to_atom14': (4, 99, 37), 'atom37_atom_exists': (4, 99, 37), 'extra_msa': (4, 5120, 99), 'extra_msa_mask': (4, 5120, 99), 'extra_msa_row_mask': (4, 5120), 'bert_mask': (4, 512, 99), 'true_msa': (4, 512, 99), 'extra_has_deletion': (4, 5120, 99), 'extra_deletion_value': (4, 5120, 99), 'msa_feat': (4, 512, 99, 49), 'target_feat': (4, 99, 22)}
I0611 15:04:24.921391 22970063652672 model.py:175] Output shape was {'distogram': {'bin_edges': (63,), 'logits': (99, 99, 64)}, 'experimentally_resolved': {'logits': (99, 37)}, 'masked_msa': {'logits': (512, 99, 23)}, 'predicted_lddt': {'logits': (99, 50)}, 'structure_module': {'final_atom_mask': (99, 37), 'final_atom_positions': (99, 37, 3)}, 'plddt': (99,), 'ranking_confidence': ()}
I0611 15:04:24.921708 22970063652672 robins_devious_run_alphafold_patched.py:253] Total JAX model model_4_pred_0 on P10145 predict time (includes compilation time, see --benchmark): 62.2s
I0611 15:04:24.938107 22970063652672 robins_devious_run_alphafold_patched.py:241] Running model model_5_pred_0 on P10145
I0611 15:04:25.648537 22970063652672 model.py:165] Running predict with shape(feat) = {'aatype': (4, 99), 'residue_index': (4, 99), 'seq_length': (4,), 'is_distillation': (4,), 'seq_mask': (4, 99), 'msa_mask': (4, 512, 99), 'msa_row_mask': (4, 512), 'random_crop_to_size_seed': (4, 2), 'atom14_atom_exists': (4, 99, 14), 'residx_atom14_to_atom37': (4, 99, 14), 'residx_atom37_to_atom14': (4, 99, 37), 'atom37_atom_exists': (4, 99, 37), 'extra_msa': (4, 1024, 99), 'extra_msa_mask': (4, 1024, 99), 'extra_msa_row_mask': (4, 1024), 'bert_mask': (4, 512, 99), 'true_msa': (4, 512, 99), 'extra_has_deletion': (4, 1024, 99), 'extra_deletion_value': (4, 1024, 99), 'msa_feat': (4, 512, 99, 49), 'target_feat': (4, 99, 22)}
I0611 15:05:28.876569 22970063652672 model.py:175] Output shape was {'distogram': {'bin_edges': (63,), 'logits': (99, 99, 64)}, 'experimentally_resolved': {'logits': (99, 37)}, 'masked_msa': {'logits': (512, 99, 23)}, 'predicted_lddt': {'logits': (99, 50)}, 'structure_module': {'final_atom_mask': (99, 37), 'final_atom_positions': (99, 37, 3)}, 'plddt': (99,), 'ranking_confidence': ()}
I0611 15:05:28.876892 22970063652672 robins_devious_run_alphafold_patched.py:253] Total JAX model model_5_pred_0 on P10145 predict time (includes compilation time, see --benchmark): 63.2s
I0611 15:05:32.491453 22970063652672 amber_minimize.py:178] alterations info: {'nonstandard_residues': [], 'removed_heterogens': set(), 'missing_residues': {}, 'missing_heavy_atoms': {}, 'missing_terminals': {<Residue 98 (SER) of chain 0>: ['OXT']}, 'Se_in_MET': [], 'removed_chains': {0: []}}
I0611 15:05:32.549352 22970063652672 amber_minimize.py:408] Minimizing protein, attempt 1 of 100.
I0611 15:05:33.144060 22970063652672 amber_minimize.py:69] Restraining 777 / 1593 particles.
I0611 15:05:34.922411 22970063652672 amber_minimize.py:178] alterations info: {'nonstandard_residues': [], 'removed_heterogens': set(), 'missing_residues': {}, 'missing_heavy_atoms': {}, 'missing_terminals': {}, 'Se_in_MET': [], 'removed_chains': {0: []}}
I0611 15:05:36.164783 22970063652672 amber_minimize.py:500] Iteration completed: Einit 4604.28 Efinal -1291.72 Time 1.63 s num residue violations 0 num residue exclusions 0 
I0611 15:05:36.211105 22970063652672 robins_devious_run_alphafold_patched.py:340] Final timings for P10145: {'features': 490.71664786338806, 'process_features_model_1_pred_0': 2.1208229064941406, 'predict_and_compile_model_1_pred_0': 82.63211989402771, 'process_features_model_2_pred_0': 0.8653147220611572, 'predict_and_compile_model_2_pred_0': 83.45754742622375, 'process_features_model_3_pred_0': 0.6693265438079834, 'predict_and_compile_model_3_pred_0': 63.164830923080444, 'process_features_model_4_pred_0': 0.6855483055114746, 'predict_and_compile_model_4_pred_0': 62.15467691421509, 'process_features_model_5_pred_0': 0.710216760635376, 'predict_and_compile_model_5_pred_0': 63.22845149040222, 'relax_model_1_pred_0': 7.234652042388916}
Running Alphafold with command:
export TF_FORCE_UNIFIED_MEMORY=${TF_FORCE_UNIFIED_MEMORY:-0};export XLA_PYTHON_CLIENT_MEM_FRACTION=${XLA_PYTHON_CLIENT_MEM_FRACTION:-4.0}; singularity exec --nv /apps/alphafold/2.3.2/alphafold.sif python /fs/scratch/PZS1152/alphafold/robin_alphafold/scripts/alphafold/robins_devious_run_alphafold_patched.py --data_dir=/fs/scratch/PZS1152/alphafold/alphafold/data/2.3.2 --mgnify_database_path=/fs/scratch/PZS1152/alphafold/alphafold/mgnify/mgy_clusters_2022_05.fa --obsolete_pdbs_path=/fs/scratch/PZS1152/alphafold/alphafold/pdb_mmcif/obsolete.dat --template_mmcif_dir=/fs/scratch/PZS1152/alphafold/alphafold/pdb_mmcif/mmcif_files --uniref90_database_path=/fs/scratch/PZS1152/alphafold/alphafold/uniref90/robins_devious_taxonomy_filtered.fasta --small_bfd_database_path=/fs/scratch/PZS1152/alphafold/alphafold/small_bfd/bfd-first_non_consensus_sequences.fasta --pdb70_database_path=/fs/scratch/PZS1152/alphafold/alphafold/pdb70/pdb70 --model_preset=monomer --db_preset=reduced_dbs --fasta_paths=/fs/scratch/PZS1152/alphafold/robin_alphafold/sigmaFold/web_dir/P10145.fasta --output_dir=/fs/scratch/PZS1152/alphafold/robin_alphafold/sigmaFold/proteins/ --max_template_date=2024-01-01 --use_gpu_relax=true

